{% extends 'navbar.html' %}
{% load static %}

{% block style %}
<link href="{% static 'css/auth.css' %}" rel="stylesheet">
<link rel="stylesheet" href="{% static 'js/sweetalert2.css' %}">

{% endblock style %}

{% block body %}

<div class="login">
    <div class="container-fluid">
        <!-- background -->
        <div class="row">
            <!-- <img src="{% static 'img/bg-demokrasi.png' %}" width="100%" alt="bg"> -->
            <div class='column bg-column'>
                <img src="{% static 'img/login-register.png' %}" alt="bg">
            </div>
            <div class='column login-col justify-content-center'>
                <div class="card-body-register">
                  <div class="container">
                    <div class="logo">
                        <img src="{% static 'img/logo-votepolicy.png' %}" width="40%" alt="">
                    </div>
                    <div class="register-item">
                      <form action="{% url 'register' %}" method="POST" class="form form-register" enctype="multipart/form-data" autocomplete="off">
                          {% csrf_token %}
                          <div class="row px-3">
                            <label class="mb-1">
                              <h6 class="mb-0 text-sm"><b>Nama</b></h6>
                          </label> 
                          {{form.username}}
                        </div>
                          <div class="row px-3">
                             <label class="mb-1">
                                <h6 class="mb-0 text-sm"><b>Email</b></h6>
                            </label> 
                            {{form.email}}
                          </div>

                          <div class="row px-3"> 
                            <label class="mb-1">
                                  <h6 class="mb-0 text-sm"><b>Kata Sandi</b></h6>
                            </label> 
                            {{form.password1}}
                          </div>
                          
                          <div class="row px-3"> 
                            <label class="mb-1">
                                <h6 class="mb-0 text-sm"><b>Konfirmasi Kata Sandi</b></h6>
                            </label>
                            {{form.password2}}
                          </div>
                
                          </div>

                  <div class="row px-3 mb-4">
                    <div class="custom-control custom-checkbox custom-control-inline"> <input id="chk1" type="checkbox" name="chk" value="True" class="custom-control-input"> <label for="chk1" class="custom-control-label text-sm">Saya setuju dengan <a href=""><u>syarat dan ketentuan</u></a> yang berlaku</label> </div>
                </div>
                  <div class="row mb-3 px-3"> <button type="submit" id="submit" class="btn btn-red text-center">Buat Akun</button> </div>
                  <div class="row mb-3 px-3"> <small class="font-weight-bold">Sudah memiliki akun? <a class="a" href="{% url 'login' %}"><u class="text-center">Masuk</u></a></small> </div>
                      </form>
                    </div>
                </div>
                </div>
            </div>
        </div>

      </div>
    </div>
        <script src="{% static 'js/sweetalert2.all.min.js' %}"></script>
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>

        {% if messages %}
            {% for m in messages %}
                {% if 'failed' in m.tags %}
                    <script type="text/javascript">
                      Swal.fire({
                          "title": "Gagal",
                          "text": "{{m}}",
                          "icon": "error"

                      })
                      
                    </script>
                {% else %}
                    <script type="text/javascript">
                      Swal.fire({
                          "title": "Berhasil",
                          "text": "{{m}}",
                          "icon": "success"

                      })
                      
                    </script>
                    
                {% endif %}
            {% endfor %}
        {% endif %}
        
    
        <script>
          /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
          //We start indexing at one because CSRF_token is considered and input field 
          */
          //Query All input fields
          var form_fields = document.getElementsByTagName('input')
          form_fields[1].placeholder='Masukkan nama Anda';
          form_fields[1].setAttribute("class","mb-4")
          form_fields[2].placeholder='Masukkan email Anda';
          form_fields[2].setAttribute("class","mb-4")
          form_fields[3].placeholder='Masukkan kata sandi Anda';
          form_fields[3].setAttribute("class","mb-4")
          form_fields[4].placeholder='Masukkan ulang kata sandi Anda';
          form_fields[4].setAttribute("class","mb-4")
    
          
    
        </script>
    
  
{% endblock body %}
</html>